apiVersion: tekton.dev/v1beta1
kind: Pipeline
metadata:
  labels:
    pipeline.openshift.io/type: kubernetes
  name: myapp-ci-pipeline-test
  namespace: myapp-ci
spec:
  tasks:
##------------------------------------------------------------------
# Add commit status to QA branch
##------------------------------------------------------------------
  - name: set-commit-status
    params:
    - name: GIT_REPO
      value: marrober/myApp-cd
    - name: REPO
      value: myApp-cd
    - name: GIT_TOKEN_SECRET_NAME
      value: github-access-token
    - name: GIT_TOKEN_SECRET_KEY
      value: token
    - name: COMMIT_SHA
      value: 013cf04661a86155772b9fdeeb9463bdbeeb89f3
    - name: DESCRIPTION
      value: "Pending status on commit to qa-ready"
    - name: CONTEXT
      value: "continuous-integration/Tekton"
    - name: STATE
      value: "pending"
    taskRef:
      kind: Task
      name: set-commit-status
